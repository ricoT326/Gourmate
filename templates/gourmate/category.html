{% extends 'gourmate/base.html' %}
{% load staticfiles %}

{% block title_block %}
    {% if category %}
        {{ category.name }}
    {% else %}
        Unknown Category
    {% endif %}
{% endblock %}

{% block body_block %}
    {% if user.is_authenticated %}
        <a href="{% url 'gourmate:add_recipe' category.slug %}">Add Page</a> <br />
    {% endif %}

    {% if category %}
        <h1>{{ category.name }}</h1>
		{% if recipes %}
		<ul>
			{% for recipe in recipes %}
			<div class="container">
				<ul  class="list-group list-group-flush">
					<li  class="list-group-item">
						<h2 class="jumbotron-heading" style="color: #C13C14;">
							<a href="{% url 'gourmate:recipe' recipe.title %}">
								{{ recipe.title.errors }}
								{{ recipe.title }}
								<br />
								<img src="{{ MEDIA_URL }}{{ recipe.img }}" class="figure-img img-fluid" alt="PlaceHolder">
							</a>
						</h2>

						<div class="col-sm-9">
						{% for category in categories %}
							<label class="checkbox-inline" style="color:darksalmon;">
							<input value="{{ category.id }}" type="checkbox" name="tags"/>{{ category.name }}
							</label>
						{% endfor %}
						</div>

						<div class="form-group">
							<div class="col-sm-9" style="color:darksalmon;">
							{% for category in categories %}
								<a href="{% url 'gourmate:show_category' category.slug %}"></a>
									{{ category.name }}
							{% endfor %}
							</div>
						</div>

						<div>
						<strong id="like_count">{{ recipe.likes }}</strong> likes
						{% if user.is_authenticated %}
						<button id="like_btn"
							data-recipeid="{{recipe.id}}"
							class="btn btn-primary btn-sm"
							type="button">
							<span data-feather="heart" color="pink"></span>
							Like Recipe
						</button>
						{% endif %}
						</div>
					</li>
				</ul>
			</div>
			{% endfor %}
		</ul>
		{% endif %}
    {% else %}
        <strong>No recipes currently in category.</strong>
    {% endif %}
{% endblock %}